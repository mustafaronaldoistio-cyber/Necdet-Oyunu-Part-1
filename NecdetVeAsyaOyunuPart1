<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Necdet Oyunu</title>

<style>
html,body{
    margin:0;
    padding:0;
    background:black;
    overflow:hidden;
    touch-action:none;
    font-family:Arial, sans-serif;
}
canvas{display:block;background:#222}

.screen{
    position:fixed;
    inset:0;
    display:none;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    background:rgba(0,0,0,0.9);
    z-index:20;
}
#menu{display:flex}

.menuBtn{
    padding:15px 30px;
    margin:10px;
    font-size:22px;
    border-radius:12px;
    border:none;
    background:#3fa9f5;
    color:white;
}

.controls{
    position:fixed;
    bottom:20px;
    left:20px;
    display:grid;
    grid-template-columns:60px 60px 60px;
    grid-template-rows:60px 60px;
    gap:10px;
    z-index:10;
}
.btn{
    background:rgba(255,255,255,0.3);
    border-radius:12px;
    color:white;
    font-size:26px;
    text-align:center;
    line-height:60px;
    user-select:none;
}
</style>
</head>
<body>

<!-- MENÃœ -->
<div id="menu" class="screen">
    <h1 style="color:white">NECDET OYUNU</h1>
    <button class="menuBtn" onclick="startGame()">â–¶ï¸ Oyna</button>
    <button class="menuBtn" onclick="openSettings()">âš™ï¸ Ayarlar</button>
</div>

<!-- AYAR -->
<div id="settings" class="screen">
    <p style="color:red;text-align:center">
        DAHA BÄ°ÅEY GELMEDÄ° BELKÄ° GELÄ°R LAN SABUN<br>â€” Musti Baba
    </p>
    <button class="menuBtn" onclick="backToMenu()">â¬…ï¸ Ã‡Ä±kÄ±ÅŸ</button>
</div>

<!-- Ã–LÃœM -->
<div id="death" class="screen">
    <h1 style="color:red">Ã–LDÃœN LAN SOÄAN!</h1>
    <button class="menuBtn" onclick="restartGame()">ğŸ”„ Yeniden BaÅŸlat</button>
    <button class="menuBtn" onclick="backToMenu()">ğŸ  Ana MenÃ¼</button>
</div>

<!-- KAZANMA -->
<div id="win" class="screen">
    <h1 style="color:lime">KAZANDIN BE DOMATES!</h1>
    <button class="menuBtn" onclick="restartGame()">ğŸ”„ Tekrar</button>
    <button class="menuBtn" onclick="backToMenu()">ğŸ  Ana MenÃ¼</button>
</div>

<!-- MESAJ -->
<div id="msg" class="screen">
    <h1 style="color:black">Mustafa Tam Bir Joni Sik</h1>
    <button class="menuBtn" onclick="backToMenu()">ğŸ  Ana MenÃ¼</button>
</div>

<canvas id="game"></canvas>

<div class="controls">
    <div></div><div class="btn" id="up">â¬†ï¸</div><div></div>
    <div class="btn" id="left">â¬…ï¸</div>
    <div class="btn" id="down">â¬‡ï¸</div>
    <div class="btn" id="right">â¡ï¸</div>
</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight;}
resize();addEventListener("resize",resize);

let playing=false, skiMode=false;
let move={up:false,down:false,left:false,right:false};
let necdet,asya,golem,mega,winZone,skiZone,cinar;

function resetGame(){
    skiMode=false;
    document.body.style.background="black";
    canvas.style.background="#222";

    necdet={x:50,y:200,size:35,speed:4,name:"Necdet"};
    asya={x:200,y:200,size:35,name:"Asya"};
    golem={x:220,y:450,size:70,speed:1.1,name:"Ä°ksir Golemi",color:"#8000ff"};
    mega={x:60,y:520,size:60,speed:1.3,name:"Mega ÅÃ¶valye",color:"yellow"};
    winZone={x:canvas.width-150,y:0,w:150,h:canvas.height,name:"Nedim MÃ¼zesi"};
    skiZone={x:canvas.width-300,y:0,w:150,h:canvas.height,name:"Kayak Merkezi"};
    cinar={x:canvas.width/2,y:canvas.height/2,size:40,name:"Ã‡Ä±nar"};
}

function hideAll(){
["menu","settings","death","win","msg"].forEach(id=>{
document.getElementById(id).style.display="none";
});
}

function startGame(){hideAll();resetGame();playing=true;}
function restartGame(){hideAll();resetGame();playing=true;}
function openSettings(){hideAll();settings.style.display="flex";}
function backToMenu(){hideAll();playing=false;menu.style.display="flex";}

function update(){
if(!playing)return;

if(move.up)necdet.y-=necdet.speed;
if(move.down)necdet.y+=necdet.speed;
if(move.left)necdet.x-=necdet.speed;
if(move.right)necdet.x+=necdet.speed;

if(!skiMode){
if(necdet.x+necdet.size>winZone.x){playing=false;win.style.display="flex";}
if(necdet.x+necdet.size>skiZone.x){
skiMode=true;
document.body.style.background="white";
canvas.style.background="white";
}
}
else{
if(Math.hypot(necdet.x-cinar.x,necdet.y-cinar.y)<40){
playing=false;
msg.style.display="flex";
}
}
}

function draw(){
ctx.clearRect(0,0,canvas.width,canvas.height);
if(!playing)return;

ctx.fillStyle="#3fa9f5";
ctx.fillRect(necdet.x,necdet.y,necdet.size,necdet.size);
ctx.fillStyle="white";
ctx.fillText(necdet.name,necdet.x,necdet.y-5);

if(!skiMode){
ctx.fillStyle="#0a3";
ctx.fillRect(winZone.x,0,winZone.w,canvas.height);
ctx.fillText(winZone.name,winZone.x+10,30);

ctx.fillStyle="#09f";
ctx.fillRect(skiZone.x,0,skiZone.w,canvas.height);
ctx.fillText(skiZone.name,skiZone.x+10,30);
}
else{
ctx.fillStyle="red";
ctx.fillRect(cinar.x,cinar.y,cinar.size,cinar.size);
ctx.fillStyle="black";
ctx.fillText(cinar.name,cinar.x,cinar.y-5);
}
}

function loop(){update();draw();requestAnimationFrame(loop);}
loop();

function bind(id,dir){
const b=document.getElementById(id);
b.addEventListener("touchstart",e=>{e.preventDefault();move[dir]=true});
b.addEventListener("touchend",()=>move[dir]=false);
b.addEventListener("mousedown",()=>move[dir]=true);
b.addEventListener("mouseup",()=>move[dir]=false);
}
["up","down","left","right"].forEach(d=>bind(d,d));
</script>

</body>
</html>
